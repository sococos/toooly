import{d as P,c as X,a as n,n as Y,b as h,e,t as u,f as D,F as V,r as F,g as z,h as k,i as Z,o,_ as U,j as x,k as ee,w as te,l as le,m as ae,p as B,q as M,v as K,A as se}from"./index-D4AHbMld.js";const re={key:0},oe={key:0,class:"array-node"},ne={key:0,class:"text-blue-700 dark:text-blue-300 font-medium"},de={class:"text-gray-600 dark:text-gray-400"},ue={key:1,class:"ml-4"},ie={key:1,class:"object-node"},ce={key:0,class:"text-blue-700 dark:text-blue-300 font-medium"},ve={class:"text-gray-600 dark:text-gray-400"},pe={key:1,class:"ml-4"},ye={key:1,class:"leaf-node"},ge={key:0,class:"text-blue-700 dark:text-blue-300 font-medium"},be=P({__name:"JsonTreeDisplay",props:{data:{},level:{default:0},expandedLevels:{},keyName:{default:""},path:{default:""}},emits:["toggle"],setup(j,{emit:c}){const v=j,w=c,p=X(()=>v.path||`level_${v.level}`),N=()=>{w("toggle",p.value)},d=t=>t===null?"null":typeof t=="string"?`"${t}"`:typeof t=="boolean"||typeof t=="number"?t.toString():String(t),_=t=>t===null?"text-gray-500 dark:text-gray-400":typeof t=="string"?"text-green-600 dark:text-green-400":typeof t=="boolean"?"text-blue-600 dark:text-blue-400":typeof t=="number"?"text-orange-600 dark:text-orange-400":"text-gray-900 dark:text-gray-100";return(t,y)=>{const b=Z("JsonTreeDisplay",!0);return o(),n("div",{class:"json-tree-node",style:Y({paddingLeft:t.level*20+"px"})},[typeof t.data=="object"&&t.data!==null?(o(),n("div",re,[Array.isArray(t.data)?(o(),n("div",oe,[t.keyName?(o(),n("span",ne,'"'+u(t.keyName)+'": ',1)):h("",!0),e("span",{onClick:N,class:"cursor-pointer text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200"},[D(u(t.expandedLevels.has(p.value)?"â–¼":"â–¶")+" ",1),e("span",de,"["+u(t.data.length)+"]",1)]),t.expandedLevels.has(p.value)?(o(),n("div",ue,[(o(!0),n(V,null,F(t.data,($,s)=>(o(),z(b,{key:s,data:$,level:t.level+1,"expanded-levels":t.expandedLevels,"key-name":String(s),path:p.value+"_"+s,onToggle:y[0]||(y[0]=S=>t.$emit("toggle",S))},null,8,["data","level","expanded-levels","key-name","path"]))),128))])):h("",!0)])):(o(),n("div",ie,[t.keyName?(o(),n("span",ce,'"'+u(t.keyName)+'": ',1)):h("",!0),e("span",{onClick:N,class:"cursor-pointer text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-200"},[D(u(t.expandedLevels.has(p.value)?"â–¼":"â–¶")+" ",1),e("span",ve,u("{"+Object.keys(t.data).length+"}"),1)]),t.expandedLevels.has(p.value)?(o(),n("div",pe,[(o(!0),n(V,null,F(t.data,($,s)=>(o(),z(b,{key:s,data:$,level:t.level+1,"expanded-levels":t.expandedLevels,"key-name":String(s),path:p.value+"_"+s,onToggle:y[1]||(y[1]=S=>t.$emit("toggle",S))},null,8,["data","level","expanded-levels","key-name","path"]))),128))])):h("",!0)]))])):(o(),n("div",ye,[t.keyName?(o(),n("span",ge,'"'+u(t.keyName)+'": ',1)):h("",!0),e("span",{class:k(_(t.data))},u(d(t.data)),3)]))],4)}}}),fe=U(be,[["__scopeId","data-v-f23e346f"]]),xe={key:0,class:"fixed top-4 right-4 z-10"},ke={class:"flex flex-wrap gap-3 justify-center"},he=["disabled"],me=["disabled"],_e=["title"],we=["disabled"],Se={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},Ne={class:"flex items-center space-x-2 text-sm"},$e={class:"text-gray-500 dark:text-gray-400"},Je={class:"absolute top-3 right-3"},Ce={key:0,class:"w-3 h-3 bg-green-500 rounded-full",title:"æœ‰æ•ˆçš„JSON"},je={key:1,class:"w-3 h-3 bg-red-500 rounded-full",title:"æ— æ•ˆçš„JSON"},Oe={key:2,class:"w-3 h-3 bg-gray-400 rounded-full",title:"ç­‰å¾…è¾“å…¥"},Ee={key:0,class:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg"},Ae={class:"flex items-start space-x-2"},Te={class:"text-sm text-red-600 dark:text-red-300 mt-1"},Le={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},De={class:"flex items-center space-x-2 text-sm"},Ve={class:"text-gray-500 dark:text-gray-400"},Fe={key:0,class:"flex items-center space-x-2"},ze={class:"flex items-center space-x-1"},Be=["disabled"],Me={class:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded"},Ke=["disabled"],Pe={class:"json-tree-container"},Ue={key:0,class:"absolute bottom-3 right-3 bg-white dark:bg-gray-800 px-2 py-1 rounded text-xs text-gray-600 dark:text-gray-400 border border-gray-200 dark:border-gray-600"},Ie={key:1,class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},Re=P({__name:"JsonFormatter",setup(j){const c=x(""),v=x(""),w=x(""),p=x("empty"),N=x(!1),d=x(!1),_=x(!1),t=x(null),y=x(1),b=x(new Set),$=x(null),s=ee({keys:0,values:0,depth:0}),S=()=>{if(!c.value.trim()){p.value="empty",w.value="";return}try{JSON.parse(c.value),p.value="valid",w.value=""}catch(l){p.value="invalid",w.value=l.message}},O=l=>{s.keys=0,s.values=0,s.depth=0;const a=(r,g=1)=>{if(s.depth=Math.max(s.depth,g),Array.isArray(r))s.values+=r.length,r.forEach(i=>{typeof i=="object"&&i!==null&&a(i,g+1)});else if(typeof r=="object"&&r!==null){const i=Object.keys(r);s.keys+=i.length,i.forEach(f=>{const m=r[f];typeof m=="object"&&m!==null?a(m,g+1):s.values++})}};try{a(l)}catch(r){console.error("ç»Ÿè®¡è®¡ç®—é”™è¯¯:",r)}},E=()=>{try{const l=JSON.parse(c.value);v.value=JSON.stringify(l,null,2),t.value=l,O(l),b.value=new Set(["level_0"]),y.value=1}catch(l){v.value="æ ¼å¼åŒ–å¤±è´¥ï¼š"+l.message,t.value=null}},A=()=>{try{const l=JSON.parse(c.value);v.value=JSON.stringify(l),t.value=l,O(l),_.value=!1}catch(l){v.value="å‹ç¼©å¤±è´¥ï¼š"+l.message,t.value=null}},I=()=>{c.value="",v.value="",w.value="",p.value="empty",s.keys=0,s.values=0,s.depth=0},R=()=>{c.value=`{
  "name": "å¼ ä¸‰",
  "age": 30,
  "email": "zhangsan@example.com",
  "address": {
    "city": "åŒ—äº¬",
    "district": "æœé˜³åŒº",
    "street": "ä¸‰é‡Œå±¯è¡—é“"
  },
  "hobbies": ["é˜…è¯»", "æ—…è¡Œ", "ç¼–ç¨‹"],
  "isActive": true,
  "profile": {
    "bio": "ä¸€åçƒ­çˆ±æŠ€æœ¯çš„å¼€å‘è€…",
    "social": {
      "github": "zhangsan",
      "twitter": "@zhangsan"
    }
  }
}`,S()},q=async()=>{try{await navigator.clipboard.writeText(v.value),N.value=!0,setTimeout(()=>{N.value=!1},2e3)}catch(l){console.error("å¤åˆ¶å¤±è´¥:",l)}},C=()=>{d.value=!d.value},G=()=>{_.value=!_.value},H=()=>{if(!t.value)return;const l=new Set,a=(r,g="level_0")=>{l.add(g),Array.isArray(r)?r.forEach((i,f)=>{typeof i=="object"&&i!==null&&a(i,`${g}_${f}`)}):typeof r=="object"&&r!==null&&Object.keys(r).forEach(i=>{const f=r[i];typeof f=="object"&&f!==null&&a(f,`${g}_${i}`)})};a(t.value),b.value=l,y.value=s.depth},Q=()=>{b.value=new Set(["level_0"]),y.value=1},T=l=>{if(l<1||l>s.depth)return;const a=new Set,r=(g,i="level_0",f=0)=>{f<l&&(a.add(i),Array.isArray(g)?g.forEach((m,J)=>{typeof m=="object"&&m!==null&&r(m,`${i}_${J}`,f+1)}):typeof g=="object"&&g!==null&&Object.keys(g).forEach(m=>{const J=g[m];typeof J=="object"&&J!==null&&r(J,`${i}_${m}`,f+1)}))};r(t.value),b.value=a,y.value=l},W=l=>{b.value.has(l)?b.value.delete(l):b.value.add(l)},L=l=>{if(l.key==="Escape"&&d.value){l.preventDefault(),d.value=!1;return}(l.ctrlKey||l.metaKey)&&(l.key==="Enter"&&(l.preventDefault(),l.shiftKey?A():E()),l.key==="F11"&&(l.preventDefault(),C()))};return te(c,S),le(()=>{document.addEventListener("keydown",L)}),ae(()=>{document.removeEventListener("keydown",L)}),(l,a)=>(o(),n("div",{class:k(["space-y-6",{"fullscreen-container":d.value,"bg-white dark:bg-gray-900":d.value}]),ref_key:"containerRef",ref:$},[d.value?(o(),n("div",xe,[e("button",{onClick:C,class:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-full shadow-lg transition-colors",title:"é€€å‡ºå…¨å±"},[...a[4]||(a[4]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):h("",!0),a[11]||(a[11]=e("div",{class:"text-center"},[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"}," JSONæ ¼å¼åŒ–/å‹ç¼©å·¥å…· "),e("p",{class:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto"}," ç¾åŒ–æˆ–å‹ç¼©JSONæ•°æ®ï¼Œæ”¯æŒè¯­æ³•é«˜äº®ã€é”™è¯¯æ£€æµ‹å’Œä¸€é”®å¤åˆ¶ã€‚è¾“å…¥JSONæ•°æ®åï¼Œé€‰æ‹©æ ¼å¼åŒ–æˆ–å‹ç¼©æ“ä½œã€‚ ")],-1)),e("div",ke,[e("button",{onClick:E,disabled:!c.value.trim(),class:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed"}," ğŸ“ æ ¼å¼åŒ– ",8,he),e("button",{onClick:A,disabled:!c.value.trim(),class:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed"}," ğŸ—œï¸ å‹ç¼© ",8,me),e("button",{onClick:C,class:"btn-secondary",title:d.value?"é€€å‡ºå…¨å±":"è¿›å…¥å…¨å±"},u(d.value?"ğŸ”³":"â›¶")+" "+u(d.value?"é€€å‡ºå…¨å±":"å…¨å±"),9,_e),e("button",{onClick:G,disabled:!v.value,class:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed"},u(_.value?"ğŸ“":"ğŸŒ³")+" "+u(_.value?"ä»£ç è§†å›¾":"æ ‘å½¢è§†å›¾"),9,we),e("button",{onClick:I,class:"btn-secondary"}," ğŸ—‘ï¸ æ¸…ç©º "),e("button",{onClick:R,class:"btn-secondary"}," ğŸ“„ åŠ è½½ç¤ºä¾‹ ")]),e("div",{class:k(["responsive-grid-2",{"h-full":d.value}])},[e("div",{class:k(["space-y-3",{"h-full flex flex-col":d.value}])},[e("div",Se,[a[5]||(a[5]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," è¾“å…¥JSON ",-1)),e("div",Ne,[e("span",$e," å­—ç¬¦æ•°: "+u(c.value.length),1)])]),e("div",{class:k(["relative",{"flex-1":d.value}])},[M(e("textarea",{"onUpdate:modelValue":a[0]||(a[0]=r=>c.value=r),placeholder:"è¯·è¾“å…¥è¦æ ¼å¼åŒ–çš„JSONæ•°æ®...",class:k(["textarea-field",d.value?"h-full":"h-64 sm:h-80 lg:h-96"]),onInput:S},null,34),[[K,c.value]]),e("div",Je,[p.value==="valid"?(o(),n("div",Ce)):p.value==="invalid"?(o(),n("div",je)):(o(),n("div",Oe))])],2),w.value?(o(),n("div",Ee,[e("div",Ae,[a[7]||(a[7]=e("span",{class:"text-red-500 mt-0.5"},"âš ï¸",-1)),e("div",null,[a[6]||(a[6]=e("p",{class:"text-sm font-medium text-red-800 dark:text-red-200"},"JSONæ ¼å¼é”™è¯¯",-1)),e("p",Te,u(w.value),1)])])])):h("",!0)],2),e("div",{class:k(["space-y-3",{"h-full flex flex-col":d.value}])},[e("div",Le,[a[9]||(a[9]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," è¾“å‡ºç»“æœ ",-1)),e("div",De,[e("span",Ve," å­—ç¬¦æ•°: "+u(v.value.length),1),_.value&&t.value?(o(),n("div",Fe,[a[8]||(a[8]=e("span",{class:"text-gray-500 dark:text-gray-400"},"å±‚çº§:",-1)),e("button",{onClick:H,class:"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors"}," å…¨å±•å¼€ "),e("button",{onClick:Q,class:"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors"}," å…¨æŠ˜å  "),e("div",ze,[e("button",{onClick:a[1]||(a[1]=r=>T(y.value-1)),disabled:y.value<=1,class:"text-xs px-1 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50"}," - ",8,Be),e("span",Me,"ç¬¬"+u(y.value)+"å±‚",1),e("button",{onClick:a[2]||(a[2]=r=>T(y.value+1)),disabled:y.value>=s.depth,class:"text-xs px-1 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50"}," + ",8,Ke)])])):h("",!0),v.value?(o(),n("button",{key:1,onClick:q,class:"px-2 py-1 bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 rounded hover:bg-primary-200 dark:hover:bg-primary-800 transition-colors text-xs sm:text-sm"},u(N.value?"å·²å¤åˆ¶!":"å¤åˆ¶"),1)):h("",!0)])]),_.value&&t.value?(o(),n("div",{key:0,class:k(["relative",{"flex-1":d.value}])},[e("div",{class:k(["p-4 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 overflow-auto",d.value?"h-full":"h-96"])},[e("div",Pe,[B(fe,{data:t.value,level:0,"expanded-levels":b.value,path:"level_0",onToggle:W},null,8,["data","expanded-levels"])])],2)],2)):(o(),n("div",{key:1,class:k(["relative",{"flex-1":d.value}])},[M(e("textarea",{"onUpdate:modelValue":a[3]||(a[3]=r=>v.value=r),readonly:"",placeholder:"æ ¼å¼åŒ–åçš„ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...",class:k(["textarea-field bg-gray-50 dark:bg-gray-900",d.value?"h-full":"h-64 sm:h-80 lg:h-96"])},null,2),[[K,v.value]]),s.keys>0?(o(),n("div",Ue," é”®: "+u(s.keys)+" | å€¼: "+u(s.values)+" | å±‚çº§: "+u(s.depth),1)):h("",!0)],2))],2)],2),d.value?h("",!0):(o(),n("div",Ie,[...a[10]||(a[10]=[e("h4",{class:"font-semibold text-blue-900 dark:text-blue-100 mb-2"},"ğŸ’¡ ä½¿ç”¨æç¤º",-1),e("ul",{class:"text-sm text-blue-800 dark:text-blue-200 space-y-1"},[e("li",null,"â€¢ ç‚¹å‡»â€œå…¨å±â€æŒ‰é’®è¿›å…¥ç½‘é¡µå…¨å±æ¨¡å¼ï¼Œè·å¾—æ›´å¤§å·¥ä½œç©ºé—´"),e("li",null,"â€¢ ä½¿ç”¨â€œæ ‘å½¢è§†å›¾â€æŸ¥çœ‹JSONçš„å±‚çº§ç»“æ„ï¼Œæ”¯æŒæŠ˜å /å±•å¼€"),e("li",null,"â€¢ å±‚çº§æ§åˆ¶ï¼šå…¨å±•å¼€ã€å…¨æŠ˜å ã€é€å±‚è°ƒèŠ‚ï¼ˆ+/-æŒ‰é’®ï¼‰"),e("li",null,"â€¢ é”®ç›˜å¿«æ·é”®ï¼šCtrl+Enter æ ¼å¼åŒ–ï¼ŒCtrl+Shift+Enter å‹ç¼©ï¼ŒESC é€€å‡ºå…¨å±"),e("li",null,"â€¢ æ”¯æŒå¤åˆ¶ç»“æœã€è¯­æ³•é«˜äº®å’Œå®æ—¶é”™è¯¯æ£€æµ‹")],-1)])])),B(se,{position:"inline",class:"mx-auto"})],2))}}),Ge=U(Re,[["__scopeId","data-v-93f74906"]]);export{Ge as default};
